<html lang="en">
<head>
    <!-- Page Details -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name='subject' content="Genify | JoshLmao">
    <meta name="description" content="Genify - View the lyrics to your current listening song on Spotify!">
    <meta name="author" content="JoshLmao">      

    <title>Genify | JoshLmao</title>
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png" />
    
    <!-- Microdata -->
    <meta itemprop="name" content="Genify | JoshLmao">
    <meta itemprop="description" content="Genify - View the lyrics to your current listening song on Spotify!">
    <meta itemprop="image" content="">
    <!-- FB/OpenGraph metadata-->
    <meta property="og:title" content="Genify | JoshLmao" />
    <meta property='og:type' content='website'/>
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://genify.joshlmao.com" />
    <meta property='og:site_name' content='JoshLmao'/>
    <meta property='og:image' content='https://i.imgur.com/L3oRfI0.png'/>
    <meta property="og:description" content="Genify automatically gets your current Spotify song and the lyrics so you can spend more time singing" />
    <!-- Twitter metadata-->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@joshlmao"/>
    <meta name="twitter:creator" content="@joshlmao"/>
    <meta name="twitter:title" content="Genify | JoshLmao">
    <meta name="twitter:description" content="Genify - View the lyrics to your current listening song on Spotify!">
    <meta name="twitter:image" content="https://i.imgur.com/L3oRfI0.png"/>
    <meta name="twitter:domain" content="https://geinfy.joshlmao.com">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127734786-5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-127734786-5');
    </script>

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

    <!--Bootstrap-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
    <!-- CSS's -->
    <!-- Bootstrap Theme, from http://bootstrap.themes.guide/darkster -->
    <link href="css/darkster.bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/style.css"></link>

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        
    <!-- Cookie Consent by Insites -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
    <script>
        window.addEventListener("load", function(){
        window.cookieconsent.initialise({
        "palette": {
            "popup": {
                "background": "#000"
            },
            "button": {
                "background": "#f1d600"
            }
        },
        "theme": "edgeless",
        "position": "bottom-left",
        "content": {
            "dismiss": "Got it",
            "message": "This website uses cookies only uses  cookies to restore any previous sign in session"
        }
        })});
    </script>
    <!-- Spotify Web Playback API -->
    <script src="https://sdk.scdn.co/spotify-player.js"></script>

    <!-- Translate scripts -->
    <script src="vendor/aromanizer/aromanize.js"></script>
    <script src="vendor/pinyin4js/pinyin4js-min.js"></script>
    <script src="vendor/romaji/romaji.min.js"></script>
    <!-- Simplified/Traditional scripts-->
    <script src="vendor/hustlzp/jquery.s2t.js"></script>
    <script src="vendor/nickdrewe/TradOrSimp.js"></script>

    <!--Local Scripts-->
    <script src="js/main.js"></script>
    <script src="js/spotify.js"></script>
    <script src="js/genius.js"></script>
    <script src="js/cookies.js"></script>
    <script src="js/lyricsService.js"></script>
    <script src="js/helper.js"></script>
    <script src="js/logger.js"></script>
    <script src="js/youtube.js"></script>
</head>

<body class="spotify-bg-secondary">
    <!-- Top Navigation Bar-->
    <nav class="navbar navbar-expand-md navbar-dark bg-primary">
        <div class="container">
            <div class="mx-auto order-0">
                <a class="navbar-brand" href="index.html">
                    <h4 class="m-0">Genify</h4>
                </a>
            </div>
            <div class="navbar-collapse mx-auto w-100 text-center text-md-left">
                <small class="text-muted" id="versionNumber" style="cursor: pointer"></small>
            </div>
            <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item mr-2 my-auto">
                        <a href="https://joshlmao.com" title="JoshLmao">
                            <img src="./img/logo_block.png" style="max-height: 30px; max-width:30px;"></img>
                        </a>
                    </li>
                    <li class="nav-item mr-2 my-auto">
                        <a href="https://github.com/JoshLmao/Genify" title="Genify Github Repository">
                            <div class="btn btn-sm btn-outline-light btn-social" style="height:auto;width:auto;">
                                <i class="fab fa-github btn-social-icon my-auto"></i>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="https://twitter.com/JoshLmao" title="JoshLmao's Twitter">
                            <div class="btn btn-sm btn-outline-light btn-social" style="height:auto;width:auto;">
                                <i class="fab fa-fw fa-twitter btn-social-icon"></i>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Popup Changelog -->
    <div class="modal fade" id="changelogModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="border-top: 1px solid rgba(0, 0, 0, 0.2)">
                    <h3 class="modal-title text-primary"></h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fas fa-times text-white"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="text-holder text-white"></div>
                </div>
                <div class="modal-footer" style="border-top: 1px solid rgba(0, 0, 0, 0.2)">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Master container -->
    <div >
        <!-- Spotify media bar -->
        <div class="row mx-0 spotify-media-bar spotify-bg-tertiary">
            <div class="signed-in-ui container-fluid">
                <div class="row h-100 align-items-center mx-2">
                    <div class="col-auto">
                        <div class="row">
                            <!-- Album Art -->
                            <a id="albumLink">
                                <img id="albumArtwork" class="album-art" src="https://via.placeholder.com/75"></img>
                            </a>
                            <!-- Track info -->
                            <div class="col d-flex flex-column">
                                <a id="songLink" class="mt-auto mr-auto">
                                    <h5 id="trackTitle" class="text-truncate mb-0" style="max-width: 200px">Track Title</h5>
                                </a>
                                <a id="artistLink" class="my-auto mr-auto">
                                    <h6 id="artistTitle" class="text-truncate mb-0">Artist Title</h6>
                                </a>
                            </div>
                        </div>
                    </div>
                    <!-- Media Controls Column -->
                    <div class="col mx-5">
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-secondary mx-1">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button id="pauseBtn" type="button" class="btn btn-secondary is-playing mx-1">
                                <i class="fas fa-pause"></i>
                            </button>
                            <button id="playBtn" type="button" class="btn btn-secondary is-paused mx-1">
                                <i class="fas fa-play "></i>
                            </button>
                            <button type="button" class="btn btn-secondary mx-1">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                        <div class="d-flex justify-content-around align-items-center mt-1">
                            <p id="trackCurrentPosition" class="font-weight-light small px-2 my-auto">0:00</p>
                            <div class="progress w-100 spotify-progress-bar">
                                <div id="trackProgress" class="progress-bar spotify-progress-bar-inner" role="progressbar" style="width:0%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <p id="trackTotalDuration" class="font-weight-light small px-2 my-auto">9:99</p>
                        </div>
                    </div>
                    <!-- Devices/volume column -->
                    <div class="d-flex justify-content-center" style="width: 175px">
                        <button id="devicesBtn" type="button" class="btn btn-secondary mr-2" data-toggle="modal" data-target="#devicesModal">
                            <i class="fas fa-desktop"></i>
                        </button>
                        <!-- Mute buttons -->
                        <button id="unmuteBtn" type="button" class="btn btn-secondary mr-2 muted">
                            <i class="fas fa-volume-mute"></i>
                        </button>
                        <button id="muteBtn" type="button" class="btn btn-secondary mr-2 unmuted">
                            <i class="fas fa-volume-up"></i>
                        </button>
                        <!-- Volume progress -->
                        <div class="progress w-100 my-auto spotify-progress-bar">
                            <div id="volumeProgress" class="progress-bar spotify-progress-bar-inner" role="progressbar" style="width:0%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sign in -->
            <div class="signed-out-ui my-auto container-fluid">
                <button class="btn btn-lg btn-block spotify-background text-white mx-auto" id="btnSignIn" type="button" style="width: 250px">
                    <div class="container" id="signInBtnSignInContent">
                        <i class="fab fa-spotify"></i> Sign In
                    </div>
                </button>
            </div>
        </div>
        <!-- Lyrics bar -->
        <div class="d-flex lyricsFill">
            <div class="signed-in-ui buttons-dock">
                <button type="button" class="btn btn-outline-light px-1 fa-sm" onclick="onPrevLyrics()">
                    <i class="fas fa-arrow-left "></i>
                </button>
                <button type="button" class="btn btn-outline-light px-1 fa-sm" onclick="onNextLyricsBtn()">
                    <i class="fas fa-arrow-right"></i>
                </button>
                <button type="button" class="btn btn-outline-light" onclick="onToggleSettings()">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
            <div class="settings-ui container collapse overflow-y pb-4" id="settingsPage">
                <a href="javascript:void(0)" class="float-right close-settings-btn" onclick="onHideSettings()">&times;</a>
                <h1 class="my-3 font-weight-bold">Settings</h1>
                <h6 class="mx-0 mb-1 font-weight-bold">Spotify</h6>
                <hr class="spotify-separator"/>
                <!-- Account & Sign out-->
                <div class="d-flex">
                    <p class="my-0 settings-key">Name</p>
                    <p class="ml-auto my-0 settings-value" id="displayName">ACCOUNT NAME</p>
                </div>
                <div class="d-flex">
                    <p class="settings-key my-0">Id</p>
                    <a id="accountIdLink" class="ml-auto settings-value">
                        <p class="my-0" id="accountId">ACCOUNT ID</p>
                    </a>
                </div>
                <div class="d-flex">
                    <p class="my-0 settings-key">Type</p>
                    <p class="ml-auto my-0 settings-value" id="accountType">PRODUCT</p>
                </div>
                <div class="d-flex">
                    <p class="my-0 settings-key">Auth Expire</p>
                    <p class="ml-auto my-0 settings-value" id="authExpire">DATETIME</p>
                </div>
                <button class="btn spotify-background text-white mt-2 d-flex px-5 ml-auto" id="btnSignOut" type="button" onclick="onSignOut()">
                    <i class="fab fa-spotify mr-2 my-auto"></i> Sign Out
                </button>
                <div class="d-flex  mt-2">
                    <p class="my-0 settings-key my-auto">
                        Enable Web Playback
                        <small class="font-weight-light ml-1" style="font-size: 14px;" id="webPlaybackDeviceName">()</small>
                    </p>
                    <div class="settings-value ml-auto my-auto">
                        <div class="text-center align-middle my-auto collapse" id="webPlaybackLoading">
                            <i class="fa fa-spinner fa-pulse fa-lg fa-fw" ></i>
                        </div>
                        <label class="switch my-auto" id="webPlaybackSwitchUI">
                            <input type="checkbox" id="webPlaybackSwitch">
                            <span class="slider" ></span>
                        </label>
                    </div>
                </div>
                <!-- Youtube Player settings -->
                <h6 class="mx-0 mb-1 mt-4 font-weight-bold">Youtube Player</h6>
                <hr class="spotify-separator"/>
                <!-- Display -->
                <div class="d-flex my-1">
                    <p class="my-0">Enable Youtube Music Video</p>
                    <div class="ml-auto my-auto settings-value">
                        <label class="switch my-auto">
                            <input type="checkbox" id="displayYoutubeSwitch">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <!-- Display -->
                <div class="d-flex my-1">
                    <p class="my-0">
                        White Player Style <small class="text-warning font-weight-light ml-1" style="font-size: 14px;">(Requires Refresh)</small>
                    </p>
                    <div class="ml-auto my-auto settings-value">
                        <label class="switch my-auto">
                            <input type="checkbox" id="ytPlayerColorSwitch">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <h6 class="mx-0 mb-1 mt-4 font-weight-bold">Language</h6>
                <hr class="spotify-separator"/>
                <!-- Auto Romanize lyrics -->
                <div class="d-flex">
                    <p class="my-0">Automatic Romanize</p>
                    <div class="ml-auto my-auto settings-value">
                        <label class="switch my-auto">
                            <input type="checkbox" id="autoRomanizeSwitch">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="d-flex my-1">
                    <p class="my-0">Chinese: Prefer Simplified</p>
                    <div class="ml-auto my-auto settings-value">
                        <label class="switch my-auto">
                            <input type="checkbox" id="">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Credits -->
                <h6 class="mx-0 mb-1 mt-4 font-weight-bold">Credits</h6>
                <hr class="spotify-separator"/>
                <div class="d-flex">
                    <p class="my-0">Created By</p>
                    <a href="https://github.com/JoshLmao" class="ml-auto settings-value">
                        <p class="my-0">JoshLmao</p>
                    </a>
                    <a href="https://twitter.com/JoshLmao" class="my-auto ml-2">
                        <i class="fab fa-fw fa-twitter"></i>
                    </a>
                </div>
                <div class="d-flex">
                    <p class="my-0">Pinyin Converter</p>
                    <a href="https://github.com/superbiger/pinyin4js" class="ml-auto settings-value">
                        <p class="my-0">Pinyin4JS by SuperBiger</p>
                    </a>
                </div>
                <div class="d-flex">
                    <p class="my-0">Hangul Converter</p>
                    <a href="https://github.com/fujaru/aromanize-js" class="ml-auto settings-value">
                        <p class="ml-auto my-0">Aromanjize-JS by Fujaru</p>
                    </a>
                </div>
                <div class="d-flex">
                    <p class="my-0">Japanese Converter</p>
                    <a href="https://github.com/fujaru/aromanize-js" class="ml-auto settings-value">
                        <p class="ml-auto my-0">TODO by TODO</p>
                    </a>
                </div>
                <div class="d-flex justify-content-between mt-3">
                    <a href="https://brave.com/jos677" class="d-flex justify-content-center align-items-center">
                        <img src="img/BraveBat.png" height="45">
                    </a>
                    <a class="mr-5" href="https://ko-fi.com/joshlmao" title="Thank you! <3">
                        <img src="https://i.imgur.com/zDeHMoK.png" alt="KoFiDonate.png" height="40">
                    </a>
                    <a href="https://paypal.me/xjoshlmao?locale.x=en_GB" title="Thank you! <3">
                        <img src="https://i.imgur.com/UfSd0gP.png" height="40">
                    </a>
                </div>
            </div>
            <!-- Youtube Video -->
            <div class="youtube-player-ui container">
                <!-- Loading Spinner -->
                <div class="text-center align-middle mt-2" id="youtubeLoading">
                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw" ></i>
                </div>
                <script src="https://apis.google.com/js/api.js"></script>
                <script src="http://www.youtube.com/player_api"></script>
                <div class="youtubeContainer my-3">
                    <div id="youtubePlayer"></div>
                </div>
            </div>
            <!-- Genius Content -->
            <div class="signed-in-ui mx-auto" id="geniusContent" style="min-width:35%;">
                <div class="d-inline-block overflow-y h-100 w-100">
                    <div class="card-body text-center">
                        <!-- Loading Spinner -->
                        <div class="align-middle" id="geniusLoading">
                            <i class="fa fa-spinner fa-pulse fa-3x fa-fw" ></i>
                        </div>
                        <!-- Romanize Btn -->
                        <button type="button" class="btn btn-outline-primary mb-3 py-1" id="romanizeBtn"></button>
                        <!-- Trad to Simp Chinese Btn -->
                        <button type="button" class="btn btn-outline-primary mb-3 py-1" id="tradSimpBtn"></button>
                        <!-- Lyrics Container -->
                        <div id="geniusLyricsContent" class="text-justify" style="white-space: pre-wrap;"></div>
                        <!-- Add Lyrics to Genius Btn -->
                        <a href="https://genius.com/new"  id="geniusAddLyrics" class="collapse">
                            <button type="button" class="btn btn-outline-primary my-2" >Add lyrics to Genius</button>
                        </a>
                    </div> 
                </div>
            </div>
        </div>
    </div>
    <!-- Devices Modal -->
    <div class="modal" id="devicesModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Modal Heading</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
              <ul id="devicesList">
              </ul>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>
</body>
</html>